<div class="description">
  <p>{{apiItem.specification.description}}</p>
</div>

<div class="api-specification-resource-table">
  <h3>Resource Table</h3>
  <dl>
    <dt ng-repeat-start="(key, value) in apiItem.specification.resourceTable">{{key}}</dt>
    <dd ng-repeat-end>
      <span ng-if="!isArray(value)">
        {{value}}
      </span>
      <span ng-if="isArray(value)">
        <span ng-repeat="element in value"
              class="resource-table-array-element">{{element}}</span>
      </span>
    </dd>
  </dl>
</div>

<div class="api-specification-route-parameters"
     ng-if="apiItem.specification.parameters.route">
  <h3>Route Parameters</h3>
  <dl>
    <dt ng-repeat-start="(key, value) in apiItem.specification.parameters.route">{{key}}</dt>
    <dd ng-repeat-end>{{value}}</dd>
  </dl>
</div>

<div class="api-specification-query-parameters"
     ng-if="apiItem.specification.parameters.query">
  <h3>Query String Parameters</h3>
  <dl>
    <dt ng-repeat-start="param in apiItem.specification.parameters.query">{{param}}</dt>
    <dd ng-repeat-end></dd><!-- TODO:  -->
  </dl>
</div>

<div class="api-specification-request-body-parameters"
     ng-if="apiItem.specification.parameters.requestBody">
  <h3>Request Parameters</h3>
  <table>
    <tr>
      <th>Key</th>
      <th>Type</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
    <tr ng-repeat="param in apiItem.specification.parameters.requestBody">
      <td class="key">{{param.key}}</td>
      <td class="type">{{param.type}}</td>
      <td class="required">{{param.required}}</td>
      <td class="description">{{param.description}}</td>
    </tr>
  </table>
</div>

<div ng-if="apiItem.specification.bodyParameterFormats.request">
  <div ng-repeat="(key, value) in apiItem.specification.bodyParameterFormats.request">
    <h3>{{key}} Format</h3>
    <table>
      <tr>
        <th>Key</th>
        <th>Type</th>
        <th>Required</th>
        <th>Description</th>
      </tr>
      <tr ng-repeat="param in value">
        <td class="key">{{param.key}}</td>
        <td class="type">{{param.type}}</td>
        <td class="required">{{param.required}}</td>
        <td class="description">{{param.description}}</td>
      </tr>
    </table>
  </div>
</div>

<div class="api-specification-response-body-parameters"
     ng-if="apiItem.specification.parameters.responseBody">
  <h3>Response Parameters</h3>
  <table>
    <tr>
      <th>Key</th>
      <th>Type</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
    <tr ng-repeat="param in apiItem.specification.parameters.responseBody">
      <td class="key">{{param.key}}</td>
      <td class="type">{{param.type}}</td>
      <td class="required">{{param.required}}</td>
      <td class="description">{{param.description}}</td>
    </tr>
  </table>
</div>

<div ng-if="apiItem.specification.bodyParameterFormats.response">
  <div ng-repeat="(key, value) in apiItem.specification.bodyParameterFormats.response">
    <h3>{{key}} Format</h3>
    <table>
      <tr>
        <th>Key</th>
        <th>Type</th>
        <th>Required</th>
        <th>Description</th>
      </tr>
      <tr ng-repeat="param in value">
        <td class="key">{{param.key}}</td>
        <td class="type">{{param.type}}</td>
        <td class="required">{{param.required}}</td>
        <td class="description">{{param.description}}</td>
      </tr>
    </table>
  </div>
</div>

<div class="api-specification-errors">
  <h3>Errors</h3>
  <dl>
    <dt ng-repeat-start="errorCode in apiItem.specification.errors">{{errorCode}}</dt>
    <dd ng-repeat-end>{{errorCode | errorDescription}}</dd>
  </dl>
</div>

<div class="api-specification-examples">
  <h3>Examples</h3>
  <ul>
    <li ng-repeat="example in apiItem.specification.examples">
      <h4>
        {{example.type}}
        <span ng-if="example.description">
          ({{example.description}})
        </span>
      </h4>

      <div class="example-content">
        <div ng-if="example.type === 'request'"
             class="example-request-header">
          <span>HTTP</span>
          <span>{{example.verb}}</span>
          <span>{{example.route}}</span>
        </div>

        <div hljs
             source="example.body | json"
             class="language-json"></div>
      </div>
    </li>
  </ul>
</div>